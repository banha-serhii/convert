<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Convertation list to array of objects
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
<h1>Convertation list to array of objects</h1>
<form action="" method="post" style="display: grid; padding: 1rem">
    <button type="submit">Convert</button>
    <label style="display: grid;"> Paste the text
        <textarea name="elements" placeholder="Past the list of elemets" oninput="auto_grow(this)"></textarea>
    </label>
</form>
<div id="output"></div>
<script>
  function auto_grow(element) {
    element.style.height = "5px";
    element.style.height = (element.scrollHeight) + "px";
  }
  function capitalize(word) {
    return word.charAt(0)
      .toUpperCase() + word.slice(1);
  }

  function handleSubmit(event) {
    event.preventDefault();

    // Отримати список елементів з форми
    const elements = document.querySelector('textarea[name=\'elements\']').value;

    // Конвертувати елементи у масив об'єктів
    const objects = elements.split('\n')
      .filter(element => element.length > 0)
      .map(element => {
        // Валідація
        const words = element.split(' ');
        const capitalizedWords = words.map(capitalize);

        if (capitalizedWords.length > 0) {
          return {
            title: capitalizedWords.join(''),
            icon: `Icon${capitalizedWords.join('')}`,
          };
        }
      });

    // Вивести масив об'єктів
    document.querySelector('#output').innerHTML = JSON.stringify(objects);
  }

  // Підключення обробника події
  document.querySelector('form')
    .addEventListener('submit', handleSubmit);

</script>
</body>
</html>
